{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","hooks/useUpdate.tsx","lib/createId.tsx","hooks/useTags.tsx","views/Money/TagsSection.tsx","components/Input.tsx","views/Money/NotesSection.tsx","views/Money/CategorySection.tsx","views/Money/NumberPadSection/Wrapper.tsx","views/Money/NumberPadSection.tsx","views/Money/NumberPadSection/generateOutput.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","views/Tags.tsx","views/NoMatch.tsx","views/Tag.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","cs","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","useUpdate","fn","dependency","count","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useTags","useState","tags","setTags","localTags","parse","length","getName","tag","filter","t","findTag","findTagIndex","result","i","updateTag","deleteTag","addTag","tagName","prompt","section","TagsSection","selectedTagIds","value","onClick","tagId","indexOf","onChange","Label","label","Input","NoteSection","note","type","placeholder","defaultValue","target","CategorySection","categoryMap","categoryList","category","c","NumberPadSection","toString","output","_setOutput","useImperativeHandle","onRef","changeVal","text","textContent","split","concat","newOutput","slice","parseFloat","setOutput","generateOutput","onOk","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createAt","Date","toISOString","MyLayout","CategoryWrapper","defaultFormData","Money","selected","setSelected","obj","ChildRef","ITem","Header","h3","Statistics","setCategory","hash","r","key","day","format","push","array","entries","sort","a","b","date","reduce","span","index","Button","button","Center","Space","TagList","ol","Tags","NoMatch","TopBar","header","InputWrapper","Tag","idString","useParams","history","useHistory","goBack","tagContent","AppWrapper","App","exact","path","from","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+GAAA,IAAIA,EAAM,CACT,cAAe,GACf,aAAc,GACd,cAAe,GACf,cAAe,GACf,YAAa,IAId,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,I,gCC1BpB,6CAEIY,EAAS,IAAI,IAAa,CAC5B,GAAM,QACN,IAAO,cACP,QAAW,gBACX,QAAW,ogBAEA,IAAOC,IAAID,GACT,a,gCCTf,6CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,OACN,IAAO,aACP,QAAW,gBACX,QAAW,qOAEA,IAAOC,IAAID,GACT,a,gCCTf,6CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,QACN,IAAO,cACP,QAAW,gBACX,QAAW,spBAEA,IAAOC,IAAID,GACT,a,gCCTf,6CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,QACN,IAAO,cACP,QAAW,gBACX,QAAW,sOAEA,IAAOC,IAAID,GACT,a,gCCTf,6CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,MACN,IAAO,YACP,QAAW,gBACX,QAAW,ypBAEA,IAAOC,IAAID,GACT,a,2CCNEE,E,uJACjB,KADiBA,EACFC,OADuER,OAAOS,QAAQF,GAC1C,MAAOG,IAAQC,QAAQC,IAAIF,IAMtF,I,MASeG,EATF,SAACC,GACiCA,EAAtCC,KAAsCD,EAAhCE,SAAb,IAAuBC,EAAsBH,EAAtBG,UAAcC,EAArC,YAA6CJ,EAA7C,GACA,OACE,6CAAKG,UAAWE,IAAG,OAAQF,IAAgBC,GAA3C,aACGJ,EAAMC,MAAQ,qBAAKK,UAAW,IAAMN,EAAMC,WCT3CM,EAAaC,IAAOC,IAAV,kiBAuDDC,EA3BH,WACV,OACE,cAACH,EAAD,UACE,+BACE,6BACE,eAAC,IAAD,CAASI,GAAG,QAAQC,gBAAgB,WAApC,UACE,cAAC,EAAD,CAAMX,KAAK,QADb,0BAKF,6BACE,eAAC,IAAD,CAASU,GAAG,SAASC,gBAAgB,WAArC,UACE,cAAC,EAAD,CAAMX,KAAK,UADb,0BAKF,6BACE,eAAC,IAAD,CAASU,GAAG,cAAcC,gBAAgB,WAA1C,UACE,cAAC,EAAD,CAAMX,KAAK,UADb,gCC9CJY,EAAUL,IAAOM,IAAV,iGAKPC,EAAOP,IAAOM,IAAV,oEASJE,EAA0B,SAAChB,GAC7B,IAAMiB,EAAUC,iBAAuB,MAQvC,OAPAC,qBAAU,WACNC,YAAW,WACFH,EAAQI,UACbJ,EAAQI,QAAQC,UAAYtB,EAAMsB,aACnC,KACJ,CAACtB,EAAMsB,YAGN,eAACT,EAAD,WACI,cAACE,EAAD,CAAMQ,IAAKN,EAASd,UAAWH,EAAMG,UAArC,SACKH,EAAME,WAEX,cAAC,EAAD,QAKZc,EAAOQ,aAAe,CAClBF,UAAW,GAGAN,I,cAAAA,I,QCtCFS,EAAY,SAACC,EAAgBC,GACtC,IAAMC,EAAQV,iBAAO,GACrBC,qBAAU,WACNS,EAAMP,SAAW,KAErBF,qBAAU,WACFS,EAAMP,QAAU,GAChBK,MAEL,CAACA,EAAIC,KCZRhD,EAAKkD,SAASC,OAAOC,aAAaC,QAAQ,UAAY,KAEpDC,EAAW,WAGf,OAFAtD,GAAM,EACNmD,OAAOC,aAAaG,QAAQ,QAASC,KAAKC,UAAUzD,IAC7CA,GCAH0D,EAAU,WACZ,MAAwBC,mBAAyC,IAAjE,mBAAOC,EAAP,KAAaC,EAAb,KACArB,qBAAU,WACN,IAAIsB,EAAYN,KAAKO,MAAMZ,OAAOC,aAAaC,QAAQ,SAAW,MACzC,IAArBS,EAAUE,SACVF,EAAY,CACR,CAAE9D,GAAIsD,IAAYhC,KAAM,UACxB,CAAEtB,GAAIsD,IAAYhC,KAAM,UACxB,CAAEtB,GAAIsD,IAAYhC,KAAM,UACxB,CAAEtB,GAAIsD,IAAYhC,KAAM,YAGhCuC,EAAQC,KACT,IACHhB,GAAU,WACNK,OAAOC,aAAaG,QAAQ,OAAQC,KAAKC,UAAUG,MACpDA,GAiCH,MAAO,CAAEA,OAAMK,QALC,SAACjE,GACb,IAAMkE,EAAMN,EAAKO,QAAO,SAAAC,GAAC,OAAGA,EAAEpE,KAAOA,KAAI,GACzC,OAAOkE,EAAKA,EAAI5C,KAAO,IAGHuC,UAASQ,QAhCjB,SAACrE,GACb,OAAO4D,EAAKO,QAAO,SAAAD,GAAG,OAAIA,EAAIlE,KAAOA,KAAI,IA+BHsE,aA7BrB,SAACtE,GAElB,IADA,IAAIuE,GAAU,EACLC,EAAI,EAAGA,EAAIZ,EAAKI,OAAQQ,IAC7B,GAAIZ,EAAKY,GAAGxE,KAAOA,EAAI,CACnBuE,EAASC,EACT,MAGR,OAAOD,GAqB6CE,UAnBtC,SAACzE,EAAD,GAA6C,IAA9BsB,EAA6B,EAA7BA,KAC7BuC,EAAQD,EAAK/D,KAAI,SAAAqE,GAAG,OAAIA,EAAIlE,KAAOA,EAAK,CAAEA,KAAIsB,KAAMA,GAAS4C,OAkBEQ,UAhBjD,SAAC1E,GAEf6D,EAAQD,EAAKO,QAAO,SAAAD,GAAG,OAAIA,EAAIlE,KAAOA,OAcoC2E,OAX/D,WACX,IAAMC,EAAUzB,OAAO0B,OAAO,8CACf,MAAXD,GAA+B,KAAZA,GACnBf,EAAQ,GAAD,mBAAKD,GAAL,CAAW,CAAE5D,GAAIsD,IAAYhC,KAAMsD,SC1ChD1C,EAAUL,IAAOiD,QAAV,mnBAmCPC,EAA+B,SAAC1D,GACpC,MAAuBqC,IAAhBE,EAAP,EAAOA,KAAMe,EAAb,EAAaA,OACPK,EAAiB3D,EAAM4D,MAgB7B,OACE,eAAC,EAAD,WACE,6BACGrB,EAAK/D,KAAI,SAAAqE,GACR,OACE,oBAAiBgB,QAAS,WAlBhB,IAACC,IAkBiCjB,EAAIlE,GAjB1CgF,EAAeI,QAAQD,IACzB,EAEV9D,EAAMgE,SAASL,EAAeb,QAAO,SAAAC,GAAC,OAAGA,IAAMe,MAE/C9D,EAAMgE,SAAN,sBAAmBL,GAAnB,CAAmCG,MAYyB3D,WAR9C2D,EAQkEjB,EAAIlE,GAP/EgF,EAAeI,QAAQD,IAAU,EAAG,WAAa,IAOhD,SAAoFjB,EAAI5C,MAA/E4C,EAAIlE,IARN,IAACmF,OAYd,wBAAQD,QAASP,EAAjB,0C,uBC/DAW,EAAQzD,IAAO0D,MAAV,qQAkBLC,EAAyB,SAACnE,GAC5B,IAAQkE,EAA6BlE,EAA7BkE,MAAoB9D,GAASJ,EAAtBE,SAAf,YAAqCF,EAArC,IACA,OACI,eAACiE,EAAD,WACI,+BAAOC,IACP,qCAAW9D,QCtBjBS,EAAUL,IAAOiD,QAAV,+FASPW,EAA+B,SAACpE,GACpC,IAAMqE,EAAOrE,EAAM4D,MAInB,OACE,cAAC,EAAD,UACE,cAAC,EAAD,CAAOU,KAAK,OAAQJ,MAAM,eACxBK,YAAY,6CACZC,aAAcH,EACdL,SARgD,SAACjF,GACrDiB,EAAMgE,SAASjF,EAAE0F,OAAOb,aCbtB/C,EAAUL,IAAOiD,QAAV,8bA2BPiB,EAAmC,SAAC1E,GACxC,IAAM2E,EAAc,CAAC,IAAK,eAAM,IAAK,gBACrC,EAAuBrC,mBAAwB,CAAC,IAAK,MAA9CsC,EAAP,oBAIMC,EAAW7E,EAAM4D,MACvB,OACE,cAAC,EAAD,UACE,6BACGgB,EAAapG,KAAI,SAAAsG,GAAC,OACjB,oBAEE3E,UAAW0E,IAAaC,EAAG,WAAa,GACxCjB,QAAS,WAAM7D,EAAMgE,SAASc,IAHhC,SAIEH,EAAYG,IAHPA,WCxCXjE,EAAUL,IAAOiD,QAAV,gpCCSPsB,EAAoC,SAAC/E,GACzC,MAA6BsC,mBAAStC,EAAM4D,MAAMoB,YAAlD,mBAAOC,EAAP,KAAeC,EAAf,KA+BA,OANAC,8BAAqBnF,EAAMoF,OAAQ,iBAAO,CAExCC,UAAW,WACTH,EAAW,UAIb,eAAC,EAAD,WACE,qBAAK/E,UAAU,SAAf,SAAyB8E,IACzB,sBAAK9E,UAAU,eAAe0D,QArBL,SAAC9E,GAC5B,IAAMuG,EAAQvG,EAAE0F,OAA6Bc,YACjC,MAARD,IACS,OAATA,EAIA,cAAcE,MAAM,IAAIC,OAAO,CAAC,eAAM,iBAAO1B,QAAQuB,IAAS,GAnBlD,SAACL,GACjB,IAAIS,EAEFA,EADET,EAAOtC,OAAS,GACNsC,EAAOU,MAAM,EAAG,IACD,IAAlBV,EAAOtC,OACJ,IAEAsC,EAEdC,EAAWQ,GACX1F,EAAMgE,SAAS4B,WAAWF,IAUxBG,CCjCiB,SAACP,GAAgC,IAAlBL,EAAiB,uDAAR,IAC3C,OAAQK,GACJ,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACD,MAAe,MAAXL,EACOK,EAEAL,EAASK,EAExB,IAAK,IACD,OAAIL,EAAOlB,QAAQ,MAAQ,EAAYkB,EAChCA,EAAS,IACpB,IAAK,eACD,OAAsB,IAAlBA,EAAOtC,OACA,GAEAsC,EAAOU,MAAM,GAAI,IAAM,GAEtC,IAAK,eAEL,QACI,MAAO,IDIHG,CAAeR,EAAML,IAJ3BjF,EAAM+F,MAAQ/F,EAAM+F,SAiBxB,UACE,uCACA,uCACA,uCACA,kDACA,uCACA,uCACA,uCACA,kDACA,uCACA,uCACA,uCACA,wBAAQ5F,UAAU,KAAlB,gBACA,wBAAQA,UAAU,OAAlB,eACA,wBAAQA,UAAU,MAAlB,sBEhDK6F,EAAa,WACtB,MAA8B1D,mBAAuB,IAArD,mBAAO2D,EAAP,KAAgBC,EAAhB,KACA/E,qBAAU,WACN+E,EAAW/D,KAAKO,MAAMZ,OAAOC,aAAaC,QAAQ,YAAc,SACjE,IAkBH,OAJAP,GAAU,WACNK,OAAOC,aAAaG,QAAQ,UAAWC,KAAKC,UAAU6D,MACvDA,GAEI,CAACA,UAASE,UAjBC,SAACC,GACf,GAAGA,EAAUC,QAAU,EAEnB,OADAC,MAAM,mCACC,EAEX,GAA+B,IAA5BF,EAAUG,OAAO5D,OAEhB,OADA2D,MAAM,mCACC,EAEX,IAAME,EAAM,2BAAOJ,GAAP,IAAkBK,UAAW,IAAIC,MAAOC,gBAEpD,OADAT,EAAW,GAAD,mBAAKD,GAAL,CAAcO,MACjB,KCjBTI,EAAWpG,YAAOQ,EAAPR,CAAH,yEAIRqG,GAAkBrG,IAAOM,IAAV,oDAKfgG,GAAkB,CACtBP,OAAQ,GACRlC,KAAM,GACNQ,SAAU,IACVwB,OAAQ,GAsCKU,I,SAAAA,GAnCf,WACE,MAAgCzE,mBAASwE,IAAzC,mBAAOE,EAAP,KAAiBC,EAAjB,KAEOd,EAAaH,IAAbG,UAEDnC,EAAW,SAACkD,GAChBD,EAAY,2BAAID,GAAaE,KAExBC,EAAiBjG,mBASxB,OACE,eAAC0F,EAAD,CAAUtF,UAAW,KAArB,UACE,cAAC,EAAD,CAAasC,MAAOoD,EAAST,OAC3BvC,SAAU,SAACuC,GAAD,OAAYvC,EAAS,CAACuC,cAClC,cAAC,EAAD,CAAa3C,MAAOoD,EAAS3C,KAC3BL,SAAU,SAACK,GAAD,OAAUL,EAAS,CAACK,YAChC,cAACwC,GAAD,UACE,cAAC,EAAD,CAAiBjD,MAAOoD,EAASnC,SAC/Bb,SAAU,SAACa,GAAD,OAAcb,EAAS,CAACa,kBAEtC,cAAC,EAAD,CAAkBO,MAAO+B,EAAUvD,MAAOoD,EAASX,OACjDrC,SAAU,SAACqC,GAAD,OAAYrC,EAAS,CAACqC,YAChCN,KApBS,WACTI,EAAUa,KACZV,MAAM,4BACNa,EAAS9F,QAAQgE,YACjB4B,EAAYH,Y,oBChCZD,GAAkBrG,IAAOM,IAAV,sDAGfsG,GAAO5G,IAAOM,IAAV,sRAcJuG,GAAS7G,IAAO8G,GAAV,+FAiEGC,I,YAAAA,GA3Df,WACE,MAAgCjF,mBAAoB,KAApD,mBAAOuC,EAAP,KAAiB2C,EAAjB,KACQvB,EAAYD,IAAZC,QACArD,EAAYP,IAAZO,QAEF6E,EAAsC,GAEpBxB,EAAQnD,QAAO,SAAA4E,GAAC,OAAIA,EAAE7C,WAAaA,KAC3ClF,SAAQ,SAAA+H,GACtB,IAAMC,EAAMC,KAAIF,EAAEjB,UAAUoB,OAAO,8BAC7BF,KAAOF,IACXA,EAAKE,GAAO,IAEdF,EAAKE,GAAKG,KAAKJ,MAGjB,IAAMK,EAAQ5I,OAAO6I,QAAQP,GAAMQ,MAAK,SAACC,EAAGC,GAC1C,OAAID,EAAE,KAAOC,EAAE,GAAa,EACxBD,EAAE,GAAKC,EAAE,IAAc,EACvBD,EAAE,GAAKC,EAAE,GAAa,EACnB,KAGT,OACE,eAAC,EAAD,WACE,cAAC,GAAD,UACE,cAAC,EAAD,CAAiBvE,MAAOiB,EACtBb,SAAU,SAAAJ,GAAK,OAAI4D,EAAY5D,QAElCmE,EAAMvJ,KAAI,mCAAE4J,EAAF,KAAQnC,EAAR,YACT,gCACE,cAACoB,GAAD,UAASe,IACT,8BACGnC,EAAQzH,KAAI,SAAAkJ,GACX,OACE,eAACN,GAAD,WACE,qBAAKjH,UAAU,eAAf,SACGuH,EAAEnB,OACA/H,KAAI,SAAAsF,GAAK,OAAI,+BAAmBlB,EAAQkB,IAAhBA,MAIxBuE,QAAO,SAACnF,EAAQoF,EAAMC,EAAOR,GAAtB,OACN7E,EAAOuC,OAAO8C,EAAQR,EAAMpF,OAAS,EAAI,CAAC2F,EAAM,UAAO,CAACA,MAAQ,MAGrEZ,EAAErD,MAAQ,qBAAKlE,UAAU,OAAf,SAAuBuH,EAAErD,OACpC,sBAAKlE,UAAU,SAAf,mBAA0BuH,EAAErB,YAZnBqB,EAAEjB,yBChEvB+B,GAAShI,IAAOiI,OAAV,sKCANC,GAASlI,IAAOM,IAAV,+HCAN6H,GAAQnI,IAAOM,IAAV,+CCQL8H,GAAUpI,IAAOqI,GAAV,mUA0CEC,OAxBf,WACE,MAAyBzG,IAAjBE,EAAR,EAAQA,KAAMe,EAAd,EAAcA,OACd,OACE,eAAC,EAAD,WACE,cAACsF,GAAD,UACGrG,EAAK/D,KAAI,SAAAqE,GAAG,OACX,6BACE,eAAC,IAAD,CAAMlC,GAAE,gBAAWkC,EAAIlE,IAAvB,UACE,sBAAMwB,UAAU,UAAhB,SAA2B0C,EAAI5C,OAC/B,cAAC,EAAD,CAAMA,KAAK,cAHN4C,EAAIlE,SAQjB,eAAC+J,GAAD,WACE,cAACC,GAAD,IACA,cAACA,GAAD,IACA,cAACH,GAAD,CAAQ3E,QAASP,EAAjB,sCACA,cAACqF,GAAD,WCtCOI,I,SAAAA,GANf,WACE,OACE,8HCWEC,GAASxI,IAAOyI,OAAV,uLAQNC,GAAe1I,IAAOM,IAAV,2FAMZqI,GAAgB,WAClB,MAA0C9G,IAAlCW,EAAR,EAAQA,QAASI,EAAjB,EAAiBA,UAAWC,EAA5B,EAA4BA,UAClB+F,EAAaC,cAAjB1K,GACAkE,EAAMG,EAAQnB,SAASuH,IAoBvBE,EAAUC,cAIhB,OACI,eAAC,EAAD,WACI,eAACP,GAAD,WACI,cAAC,EAAD,CAAM/I,KAAK,OAAOE,UAAU,QAAQ0D,QAN5B,WAChByF,EAAQE,YAMA,4DACA,cAAC,EAAD,OAEH3G,EA9BU,SAACA,GAChB,OACI,gCACI,cAACqG,GAAD,UACI,cAAC,EAAD,CAAOhF,MAAM,qBAAMI,KAAK,OACpBC,YAAY,qBAAMX,MAAOf,EAAI5C,KAC7B+D,SAAU,SAACjF,GACPqE,EAAUP,EAAIlE,GAAI,CAAEsB,KAAMlB,EAAE0F,OAAOb,aAG/C,eAAC8E,GAAD,WACI,cAACC,GAAD,IACA,cAACA,GAAD,IACA,cAACA,GAAD,IACA,cAACH,GAAD,CAAQ3E,QAAS,kBAAKR,EAAUR,EAAIlE,KAApC,4CAgBF8K,CAAW5G,GAAO,cAAC6F,GAAD,yCCtD9BgB,GAAalJ,IAAOM,IAAV,8CAgCD6I,OA5Bf,WACE,OACE,cAACD,GAAD,UACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOE,OAAK,EAACC,KAAK,QAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,YAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,cAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAUD,OAAK,EAACE,KAAK,IAAInJ,GAAG,WAC5B,cAAC,IAAD,CAAOkJ,KAAK,IAAZ,SACE,cAAC,GAAD,cClBGE,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1Bb,O","file":"static/js/main.7a41bdcb.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 41,\n\t\"./left.svg\": 42,\n\t\"./money.svg\": 43,\n\t\"./right.svg\": 44,\n\t\"./tag.svg\": 45\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 40;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M157.538 866.462h787.693v78.769H78.769V78.769h78.77v787.693zm78.77-374.154h78.769v315.077h-78.77V492.308zm177.23-118.154h78.77v433.23h-78.77v-433.23zM590.77 492.308h78.77v315.077h-78.77V492.308zM768 334.769h78.77v472.616H768V334.769zm-470.469 13.076l-43.697-65.536 199.09-132.726 173.784 115.85 154.506-137.335 52.322 58.88L633.6 364.702 452.923 244.263 297.531 347.845z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M740.352 849.92l-57.216 59.008L283.648 512l399.488-396.928 57.216 59.008L404.48 512z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M586.4 635.9h133.3c8.6 0 15.5 6.9 15.5 15.5V774c0 8.6-6.9 15.5-15.5 15.5H586.4v123.3c0 8.6-6.9 15.5-15.5 15.5H453.1c-8.6 0-15.5-6.9-15.5-15.5V789.5H304.4c-8.6 0-15.5-6.9-15.5-15.5V651.3c0-8.6 6.9-15.5 15.5-15.5h133.2V559H304.4c-8.6 0-15.5-6.9-15.5-15.5V420.9c0-8.6 6.9-15.5 15.5-15.5h133.2L232.4 122.8c-7.4-10.2-.1-24.6 12.5-24.6h110.8c4.8 0 9.4 2.2 12.3 6.1l144 187.6 145-187.7c2.9-3.8 7.5-6 12.3-6h109.8c12.7 0 20 14.4 12.5 24.6L586.2 405.4h133.4c8.6 0 15.5 6.9 15.5 15.5v122.6c0 8.6-6.9 15.5-15.5 15.5H586.4v76.9z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M283.648 174.08l57.216-59.008L740.352 512 340.864 908.928l-57.216-59.008L619.52 512z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M939.133 79.047c-10.439-10.526-24.587-16.45-39.343-16.45l-338.631.023c-14.75 0-28.905 5.9-39.336 16.434L81.448 523.464C71.018 534 65.156 548.276 65.156 563.168s5.861 29.17 16.292 39.697l338.624 341.746c10.869 10.962 25.106 16.45 39.343 16.45 14.245 0 28.482-5.488 39.336-16.45l440.382-444.424c10.43-10.535 16.3-24.812 16.3-39.713V118.752c0-14.893-5.87-29.17-16.3-39.705zm-243.365 357.91c-61.458 0-111.284-50.284-111.284-112.308s49.826-112.308 111.284-112.308 111.285 50.284 111.285 112.308-49.826 112.308-111.285 112.308z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport cs from 'classnames';\r\n\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\r\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\r\n\r\ntype Props = {\r\n  name?: string\r\n} & React.SVGAttributes<SVGElement>\r\n\r\nconst Icon = (props: Props) => {\r\n  const {name, children, className, ...rest} = props\r\n  return (\r\n    <svg className={cs('icon', className)} {...rest}>\r\n      {props.name && <use xlinkHref={'#' + props.name}/>}\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Icon;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Icon from './Icon';\r\n\r\nconst NavWrapper = styled.nav`\r\n  line-height: 24px;\r\n  box-shadow: 0 0 3px rgba(0,0,0,0.25);\r\n  background: #ffffff;\r\n  > ul {\r\n    display:flex;\r\n    > li{\r\n      width: 33.3333%;\r\n      text-align:center;\r\n      > a {\r\n        display: flex;\r\n        flex-direction: column;\r\n        padding: 4px 0;\r\n        justify-content: center;\r\n        align-items: center;\r\n        .icon {\r\n          width: 24px;      \r\n          height: 24px;\r\n        }\r\n        &.selected {\r\n          color: red;\r\n          fill: red;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <NavWrapper>\r\n      <ul>\r\n        <li>\r\n          <NavLink to=\"/tags\" activeClassName='selected'>\r\n            <Icon name=\"tag\"></Icon>\r\n            标签页\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/money\" activeClassName='selected'>\r\n            <Icon name=\"money\"></Icon>\r\n            记账页\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/statistics\" activeClassName='selected'>\r\n            <Icon name=\"chart\"></Icon>\r\n            统计页\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </NavWrapper>\r\n  );\r\n};\r\n\r\nexport default Nav;","import Nav from './Nav';\r\nimport React, { useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n    height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\nconst Main = styled.div`\r\n    flex-grow: 1;\r\n    overflow: auto;\r\n`\r\ntype Props = {\r\n    className?: string,\r\n    scrollTop?: number\r\n}\r\n\r\nconst Layout: React.FC<Props> = (props) => {\r\n    const mainRef = useRef<HTMLDivElement>(null);\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            if (!mainRef.current) { return };\r\n            mainRef.current.scrollTop = props.scrollTop!;\r\n        }, 0);\r\n    }, [props.scrollTop]);\r\n\r\n    return (\r\n        <Wrapper>\r\n            <Main ref={mainRef} className={props.className}>\r\n                {props.children}\r\n            </Main>\r\n            <Nav></Nav>\r\n        </Wrapper>\r\n    )\r\n}\r\n// 添加默认值\r\nLayout.defaultProps = {\r\n    scrollTop: 0\r\n}\r\n\r\nexport default Layout;","import { useEffect, useRef } from 'react';\r\n\r\n\r\nexport const useUpdate = (fn: () => void, dependency: any[]) => {\r\n    const count = useRef(0);\r\n    useEffect(() => {\r\n        count.current += 1;\r\n    });\r\n    useEffect(() => {\r\n        if (count.current > 1) {\r\n            fn();\r\n        }\r\n    }, [fn, dependency]); // 不可变数据\r\n};","let id = parseInt(window.localStorage.getItem('idMax') || '0');\r\n\r\nconst createId = ():number => {\r\n  id += 1;\r\n  window.localStorage.setItem('idMax', JSON.stringify(id))\r\n  return id;\r\n};\r\n\r\nexport {createId};","import { useUpdate } from \"hooks/useUpdate\";\r\nimport { createId } from \"lib/createId\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\n// 封装一个自定义hook\r\nconst useTags = () => {\r\n    const [tags, setTags] = useState<{ id: number, name: string }[]>([]);\r\n    useEffect(() => {\r\n        let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]')\r\n        if (localTags.length === 0) {\r\n            localTags = [\r\n                { id: createId(), name: '衣' },\r\n                { id: createId(), name: '食' },\r\n                { id: createId(), name: '住' },\r\n                { id: createId(), name: '行' }\r\n            ]\r\n        }\r\n        setTags(localTags)\r\n    }, []); // 组件挂载时候执行\r\n    useUpdate(() => {\r\n        window.localStorage.setItem('tags', JSON.stringify(tags))\r\n    }, tags)\r\n    const findTag = (id: number) => {  //通过id找出对应的项\r\n        return tags.filter(tag => tag.id === id)[0];\r\n    };\r\n    const findTagIndex = (id: number) => {\r\n        let result = -1;\r\n        for (let i = 0; i < tags.length; i++) {\r\n            if (tags[i].id === id) {\r\n                result = i\r\n                break\r\n            }\r\n        }\r\n        return result\r\n    }\r\n    const updateTag = (id: number, { name }: { name: string }) => {\r\n        setTags(tags.map(tag => tag.id === id ? { id, name: name } : tag))\r\n    }\r\n    const deleteTag = (id: number) => {\r\n        //优化\r\n        setTags(tags.filter(tag => tag.id !== id))\r\n    }\r\n    // 新增标签\r\n    const addTag = () => {\r\n        const tagName = window.prompt('新标签的名称为');\r\n        if (tagName != null && tagName !== '') {\r\n            setTags([...tags, { id: createId(), name: tagName }]);\r\n        }\r\n    };\r\n    const getName = (id: number)=> {\r\n        const tag = tags.filter(t=> t.id === id)[0]\r\n        return tag? tag.name : '';\r\n    }\r\n\r\n    return { tags, getName, setTags, findTag, findTagIndex, updateTag, deleteTag, addTag };\r\n}\r\n\r\nexport { useTags };\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useTags } from \"hooks/useTags\";\r\n\r\nconst Wrapper = styled.section`\r\n  background: #ffffff;\r\n  padding: 12px 16px;\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: flex-end;\r\n  >ol {\r\n    margin: 0 -12px;\r\n    > li {\r\n      background: #d9d9d9;\r\n      border-radius: 18px;\r\n      display: inline-block;\r\n      padding: 3px 18px;\r\n      font-size: 14px;\r\n      margin: 8px 12px;\r\n      &.selected {\r\n        background: #f60;\r\n      }\r\n    }\r\n  }\r\n  > button {\r\n    background: none;\r\n    border: none;\r\n    padding: 2px 4px;\r\n    border-bottom: 1px solid #333;\r\n    color: #666;\r\n    margin-top: 8px;\r\n  }\r\n`\r\ntype Props = {\r\n  value: number[],\r\n  onChange: (selected: number[])=> void\r\n}\r\nconst TagsSection: React.FC<Props> = (props) => {\r\n  const {tags, addTag} = useTags();\r\n  const selectedTagIds = props.value; //被选中的标签id集合\r\n\r\n  // 选中标签，并添加高亮\r\n  const onToggleTag = (tagId: number)=> {\r\n    const index = selectedTagIds.indexOf(tagId);\r\n    if(index >= 0) {\r\n      // 如果tag 已被选中，就复制多有没有被选中的tag，作为新的selectedTagIds\r\n      props.onChange(selectedTagIds.filter(t=> t !== tagId));\r\n    } else {\r\n      props.onChange([...selectedTagIds, tagId])\r\n    }\r\n  };\r\n  // 是否拥有高亮的class\r\n  const getClass = (tagId: number)=> {\r\n    return selectedTagIds.indexOf(tagId) >= 0? 'selected' : ''; \r\n  }\r\n  return (\r\n    <Wrapper>\r\n      <ol>\r\n        {tags.map(tag=> {\r\n          return (\r\n            <li key={tag.id} onClick={()=> {onToggleTag(tag.id)}} className={getClass(tag.id)}>{tag.name}</li>\r\n          )\r\n        })}\r\n      </ol>\r\n      <button onClick={addTag}>新增标签</button>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport { TagsSection }","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Label = styled.label`\r\n    display:flex;\r\n    align-items: center;\r\n    > span { margin-right: 16px; white-space: nowrap; }\r\n    > input {\r\n      display:block;\r\n      width: 100%;\r\n      height: 44px;\r\n      background: none;\r\n      border: none;\r\n    }\r\n`;\r\n\r\n//类型是label加上input类型\r\ntype Props = {\r\n    label: string;\r\n} & React.InputHTMLAttributes<HTMLInputElement>;\r\n\r\nconst Input: React.FC<Props> = (props) => {\r\n    const { label, children, ...rest } = props; //...rest是其他input的其他属性\r\n    return (\r\n        <Label>\r\n            <span>{label}</span>\r\n            <input {...rest} />\r\n        </Label>\r\n    )\r\n}\r\n\r\nexport { Input }","import { Input } from 'components/Input';\r\nimport React, { ChangeEventHandler } from 'react';\r\nimport styled from \"styled-components\"\r\n\r\nconst Wrapper = styled.section`\r\n  background: #f5f5f5;\r\n  padding: 14px 16px;\r\n  font-size: 14px;\r\n`\r\ntype Props = {\r\n  value: string,\r\n  onChange: (value: string)=> void\r\n}\r\nconst NoteSection: React.FC<Props> = (props) => {\r\n  const note = props.value;\r\n  const onChange:ChangeEventHandler<HTMLInputElement> = (e)=> {\r\n    props.onChange(e.target.value);\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <Input type=\"text\"  label='备注'\r\n        placeholder='在这里添加备注' \r\n        defaultValue={note} \r\n        onChange={onChange} />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport { NoteSection }","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\"\r\n\r\nconst Wrapper = styled.section`\r\n  font-size: 24px;\r\n  > ul {\r\n    display: flex;\r\n    align-items: center;\r\n    > li {\r\n      text-align: center;\r\n      width: 50%;\r\n      padding: 16px 0;\r\n      position: relative;\r\n      &.selected::after {\r\n        content: '';\r\n        display: block;\r\n        width: 100%;\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n        height: 3px;\r\n        background: #333;\r\n      }\r\n    }\r\n  }\r\n`\r\ntype Props = {\r\n  value: '-' | '+',\r\n  onChange: (value: '-' | '+')=> void\r\n};\r\nconst CategorySection: React.FC<Props> = (props) => {\r\n  const categoryMap = {'-': '支出', '+': '收入'};\r\n  const [categoryList] = useState<('-' | '+')[]>(['-', '+']);\r\n  //可写上面这种也可以写下面哪种\r\n  // type Keys = keyof typeof categoryMap;\r\n  // const [categoryList] = useState<Keys[]>(['-', '+']);\r\n  const category = props.value;\r\n  return (\r\n    <Wrapper> \r\n      <ul>\r\n        {categoryList.map(c => \r\n          <li \r\n            key={c}\r\n            className={category === c? 'selected' : ''}\r\n            onClick={()=> {props.onChange(c)}}\r\n          >{categoryMap[c]}</li>  \r\n        )}\r\n      </ul>\r\n    </Wrapper>\r\n  )\r\n}\r\nexport { CategorySection }","import styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  > .output {\r\n    background: #ffffff;\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    text-align: right;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25),\r\n                inset 0 5px 5px -5px rgba(0,0,0,0.25);\r\n  }\r\n  > .pad {\r\n    > button {\r\n      float: left;\r\n      width: 25%;\r\n      height: 64px;\r\n      border: none;\r\n      &.ok {\r\n        height: 128px;\r\n        float: right;\r\n      }\r\n      &.zero {\r\n        width: 50%;\r\n      }\r\n      &:nth-child(1) {\r\n        background: #f2f2f2;\r\n      }\r\n      &:nth-child(2),\r\n      &:nth-child(5) {\r\n        background: #e0e0e0;\r\n      }\r\n      &:nth-child(3),\r\n      &:nth-child(6),\r\n      &:nth-child(9) {\r\n        background: #d3d3d3;\r\n      }\r\n      &:nth-child(4),\r\n      &:nth-child(7),\r\n      &:nth-child(10) {\r\n        background: #c1c1c1;\r\n      }\r\n      &:nth-child(8),\r\n      &:nth-child(11),\r\n      &:nth-child(13) {\r\n        background: #b8b8b8;\r\n      }\r\n      &:nth-child(12) {\r\n        background: #9a9a9a;\r\n      }\r\n      &:nth-child(14) {\r\n        background: #a9a9a9;\r\n      }\r\n    }\r\n  }\r\n`\r\nexport { Wrapper };","import React, { useImperativeHandle, useState } from \"react\"\r\nimport { generateOutput } from \"./NumberPadSection/generateOutput\";\r\nimport { Wrapper } from \"./NumberPadSection/Wrapper\";\r\n\r\ntype Props = {\r\n  value: number,\r\n  onChange: (value: number) => void,\r\n  onOk?: () => void,\r\n  onRef: any\r\n}\r\n\r\nconst NumberPadSection: React.FC<Props> = (props) => {\r\n  const [output, _setOutput] = useState(props.value.toString());\r\n  const setOutput = (output: string) => {\r\n    let newOutput: string\r\n    if (output.length > 16) {\r\n      newOutput = output.slice(0, 16);\r\n    } else if (output.length === 0) {\r\n      newOutput = '0'\r\n    } else {\r\n      newOutput = output\r\n    }\r\n    _setOutput(newOutput);\r\n    props.onChange(parseFloat(newOutput))\r\n  }\r\n  const onClickButtonWrapper = (e: React.MouseEvent) => {\r\n    const text = (e.target as HTMLButtonElement).textContent;\r\n    if (text == null) { return };\r\n    if (text === 'OK') {\r\n      if (props.onOk) { props.onOk() };\r\n      return\r\n    };\r\n    if ('0123456789.'.split('').concat(['删除', '清空']).indexOf(text) >= 0) {\r\n      setOutput(generateOutput(text, output));\r\n    }\r\n  }\r\n  // 此处注意useImperativeHandle方法的的第一个参数是目标元素的ref引用\r\n  useImperativeHandle((props.onRef), () => ({\r\n    // changeVal 就是暴露给父组件的方法\r\n    changeVal: () => {\r\n      _setOutput('0')\r\n    }\r\n  }));\r\n  return (\r\n    <Wrapper>\r\n      <div className='output'>{output}</div>\r\n      <div className='pad clearfix' onClick={onClickButtonWrapper}>\r\n        <button>1</button>\r\n        <button>2</button>\r\n        <button>3</button>\r\n        <button>删除</button>\r\n        <button>4</button>\r\n        <button>5</button>\r\n        <button>6</button>\r\n        <button>清空</button>\r\n        <button>7</button>\r\n        <button>8</button>\r\n        <button>9</button>\r\n        <button className='ok'>OK</button>\r\n        <button className='zero'>0</button>\r\n        <button className='dot'>.</button>\r\n      </div>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport { NumberPadSection }","const generateOutput = (text: string, output = '0') => {\r\n    switch (text) {\r\n        case '0':\r\n        case '1':\r\n        case '2':\r\n        case '3':\r\n        case '4':\r\n        case '5':\r\n        case '6':\r\n        case '7':\r\n        case '8':\r\n        case '9':\r\n            if (output === '0') {\r\n                return text;\r\n            } else {\r\n                return output + text;\r\n            }\r\n        case '.':\r\n            if (output.indexOf('.') >= 0) { return output; }\r\n            return output + '.';\r\n        case '删除':\r\n            if (output.length === 1) {\r\n                return '';\r\n            } else {\r\n                return output.slice(0, -1) || '';\r\n            }\r\n        case '清空':\r\n            return '';\r\n        default:\r\n            return '';\r\n    }\r\n};\r\n\r\nexport { generateOutput };","import { useEffect, useState } from \"react\"\r\nimport { useUpdate } from \"./useUpdate\"\r\n\r\nexport type RecordItem = {\r\n    tagIds: number[],\r\n    note: string,\r\n    category: '-' | '+',\r\n    amount: number,\r\n    createAt: string, //iso 8061\r\n}\r\ntype newRecordItem = Omit<RecordItem, 'createAt'>\r\n\r\nexport const useRecords = () => {\r\n    const [records, setRecords] = useState<RecordItem[]>([])\r\n    useEffect(()=> {\r\n        setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'))\r\n    }, [])\r\n    const addRecord = (newRecord: newRecordItem)=> {\r\n        if(newRecord.amount <= 0) {\r\n            alert('请输入金额');\r\n            return false\r\n        }\r\n        if(newRecord.tagIds.length === 0) {\r\n            alert('请选择标签');\r\n            return false\r\n        }\r\n        const record = {...newRecord, createAt: (new Date().toISOString())}\r\n        setRecords([...records, record])\r\n        return true;\r\n    }\r\n    useUpdate(()=> {\r\n        window.localStorage.setItem('records', JSON.stringify(records))\r\n    }, records)\r\n\r\n    return {records, addRecord}\r\n}","import Layout from '../components/Layout';\r\nimport React, { useRef, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { TagsSection } from './Money/TagsSection';\r\nimport { NoteSection } from './Money/NotesSection';\r\nimport { CategorySection } from './Money/CategorySection';\r\nimport { NumberPadSection } from './Money/NumberPadSection';\r\nimport { useRecords } from 'hooks/useRecords';\r\n\r\n\r\n\r\nconst MyLayout = styled(Layout)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\nconst CategoryWrapper = styled.div`\r\n  background: #c4c4c4;\r\n`\r\ntype Category = '-' | '+';\r\n\r\nconst defaultFormData = {\r\n  tagIds: [] as number[],\r\n  note: '',\r\n  category: '-' as Category,\r\n  amount: 0\r\n}\r\n\r\nfunction Money() {\r\n  const [selected, setSelected] = useState(defaultFormData);\r\n  // addRecord添加本地持久数据\r\n  const {addRecord} = useRecords();\r\n  // ts声明类型中的一部分用Partial\r\n  const onChange = (obj: Partial<typeof selected>)=> {\r\n    setSelected({...selected, ...obj})\r\n  }\r\n  const  ChildRef: any =  useRef();\r\n  const submit = () => {\r\n    if (addRecord(selected)) {\r\n      alert('保存成功');\r\n      ChildRef.current.changeVal()\r\n      setSelected(defaultFormData);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <MyLayout scrollTop={9999}>\r\n      <TagsSection value={selected.tagIds}\r\n        onChange={(tagIds) => onChange({tagIds})}></TagsSection>\r\n      <NoteSection value={selected.note}\r\n        onChange={(note) => onChange({note})}></NoteSection>\r\n      <CategoryWrapper>\r\n        <CategorySection value={selected.category}\r\n          onChange={(category) => onChange({category})}></CategorySection>\r\n      </CategoryWrapper>\r\n      <NumberPadSection onRef={ChildRef} value={selected.amount}\r\n        onChange={(amount) => onChange({amount})}\r\n        onOk={submit}\r\n      ></NumberPadSection>\r\n    </MyLayout>\r\n  );\r\n}\r\n\r\nexport default Money;\r\n","import { RecordItem, useRecords } from 'hooks/useRecords';\r\nimport { useTags } from 'hooks/useTags';\r\nimport { ReactNode, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport Layout from '../components/Layout';\r\nimport { CategorySection } from './Money/CategorySection';\r\nimport day from 'dayjs';\r\n\r\nconst CategoryWrapper = styled.div`\r\n  background: #ffffff;\r\n`\r\nconst ITem = styled.div`\r\n  background: #fff;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  > .note {\r\n    color: #999;\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n  }\r\n`\r\nconst Header = styled.h3`\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n`\r\n\r\nfunction Statistics() {\r\n  const [category, setCategory] = useState<'-' | '+'>('-');\r\n  const { records } = useRecords();\r\n  const { getName } = useTags();\r\n\r\n  const hash: { [K: string]: RecordItem[] } = {}; // {'2020-05-11': [item, item], '2020-05-10': [item, item], '2020-05-12': [item, item, item, item]}\r\n  //收入支出记录分类\r\n  const selectedRecords = records.filter(r => r.category === category);\r\n  selectedRecords.forEach(r => {\r\n    const key = day(r.createAt).format('YYYY年MM月DD日');\r\n    if (!(key in hash)) {\r\n      hash[key] = []\r\n    }\r\n    hash[key].push(r);\r\n  })\r\n  // 对hash进行排序 Object.entries作用是将key变成数组第一项 [[\"2021年06月24日\", Array(4)]]\r\n  const array = Object.entries(hash).sort((a, b) => {\r\n    if (a[0] === b[0]) { return 0 }\r\n    if (a[0] < b[0]) { return -1 }\r\n    if (a[0] > b[0]) { return 1 }\r\n    return 0\r\n  })\r\n\r\n  return (\r\n    <Layout>\r\n      <CategoryWrapper>\r\n        <CategorySection value={category}\r\n          onChange={value => setCategory(value)}></CategorySection>\r\n      </CategoryWrapper>\r\n      {array.map(([date, records]) =>\r\n        <div>\r\n          <Header>{date}</Header>\r\n          <div>\r\n            {records.map(r => {\r\n              return (\r\n                <ITem key={r.createAt}>\r\n                  <div className=\"tags oneLine\">\r\n                    {r.tagIds\r\n                      .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\r\n                      // [span, span, span]\r\n                      // [span, ',' span, ',' span]\r\n                      // []\r\n                      .reduce((result, span, index, array)=> \r\n                        result.concat(index < array.length - 1 ? [span, '，'] : [span]), [] as ReactNode[])\r\n                    }\r\n                  </div>\r\n                  {r.note && <div className=\"note\">{r.note}</div>}\r\n                  <div className=\"amount\">￥{r.amount}</div>\r\n                </ITem>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Layout>\r\n  );\r\n}\r\n\r\n\r\nexport default Statistics;\r\n\r\n","import styled from \"styled-components\"\r\n\r\nconst Button = styled.button`\r\n  font-size: 18px;\r\n  color: #ffffff;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  background: rgb(119, 119, 119);\r\n  border-radius: 4px;\r\n`\r\nexport { Button }","import styled from \"styled-components\"\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nexport { Center }","import styled from \"styled-components\";\r\n\r\nconst Space = styled.div`\r\n  height: 16px;\r\n`\r\n\r\nexport { Space }","import React from 'react';\r\nimport { Button } from 'components/Button';\r\nimport { Center } from 'components/Center';\r\nimport Icon from 'components/Icon';\r\nimport { Space } from 'components/Space';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useTags } from 'hooks/useTags';\r\nimport Layout from '../components/Layout';\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px;\r\n  background: #ffffff;\r\n  > li {\r\n    border-bottom: 1px solid #d5d5d9;\r\n    line-height: 20px;\r\n    margin-left: 16px;\r\n    \r\n    > a {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 12px 16px 12px 0;\r\n    }\r\n  }\r\n`\r\n\r\n\r\nfunction Tags() {\r\n  const { tags, addTag } = useTags();\r\n  return (\r\n    <Layout>\r\n      <TagList>\r\n        {tags.map(tag =>\r\n          <li key={tag.id}>\r\n            <Link to={`/tags/${tag.id}`}>\r\n              <span className='oneLine'>{tag.name}</span>\r\n              <Icon name='right'></Icon>\r\n            </Link>\r\n          </li>\r\n        )}\r\n      </TagList>\r\n      <Center>\r\n        <Space />\r\n        <Space />\r\n        <Button onClick={addTag}>新增标签</Button>\r\n        <Space />\r\n      </Center>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Tags;\r\n","import React from 'react';\r\n\r\nfunction NoMatch() {\r\n  return (\r\n    <div>页面不存在，你丫输错地址了吧！</div>\r\n  );\r\n}\r\n\r\nexport default NoMatch;\r\n\r\n","import { Button } from 'components/Button';\r\nimport { Center } from 'components/Center';\r\nimport Icon from 'components/Icon';\r\nimport { Input } from 'components/Input';\r\nimport Layout from 'components/Layout';\r\nimport { Space } from 'components/Space';\r\nimport React from 'react';\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport styled from 'styled-components';\r\nimport { useTags } from \"hooks/useTags\"\r\n\r\ntype Params = {\r\n    id: string\r\n}\r\n\r\nconst TopBar = styled.header`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    line-height: 20px;\r\n    padding: 14px;\r\n    background: #ffffff;\r\n`\r\nconst InputWrapper = styled.div`\r\n  background:white;\r\n  padding: 0 16px;\r\n  margin-top: 8px;\r\n`;\r\n\r\nconst Tag: React.FC = () => {\r\n    const { findTag, updateTag, deleteTag } = useTags();\r\n    let { id: idString } = useParams<Params>();\r\n    const tag = findTag(parseInt(idString));\r\n    const tagContent = (tag: {id: number, name: string}) => {\r\n        return (\r\n            <div>\r\n                <InputWrapper>\r\n                    <Input label='标签名' type='text'\r\n                        placeholder='标签名' value={tag.name}\r\n                        onChange={(e) => {\r\n                            updateTag(tag.id, { name: e.target.value })\r\n                        }} />\r\n                </InputWrapper>\r\n                <Center>\r\n                    <Space />\r\n                    <Space />\r\n                    <Space />\r\n                    <Button onClick={()=> deleteTag(tag.id)}>删除标签</Button>\r\n                </Center>\r\n            </div>\r\n        )\r\n    }\r\n    const history = useHistory()\r\n    const onClickBack = ()=> {\r\n        history.goBack();\r\n    }\r\n    return (\r\n        <Layout>\r\n            <TopBar>\r\n                <Icon name=\"left\" className='frank' onClick={onClickBack}></Icon>\r\n                <span>编辑标签</span>\r\n                <Icon></Icon>\r\n            </TopBar>\r\n            {tag? tagContent(tag) : <Center>tag 不存在</Center>}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport { Tag }","import React from 'react';\r\nimport { HashRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\r\nimport Money from './views/Money';\r\nimport Statistics from './views/Statistics';\r\nimport Tags from './views/Tags';\r\nimport NoMatch from './views/NoMatch';\r\nimport styled from 'styled-components';\r\nimport { Tag } from 'views/Tag';\r\n\r\nconst AppWrapper = styled.div`\r\n  color: #333;\r\n`;\r\n\r\nfunction App() {\r\n  return (\r\n    <AppWrapper>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/tags\">\r\n            <Tags />\r\n          </Route>\r\n          <Route exact path=\"/tags/:id\">\r\n            <Tag />\r\n          </Route>\r\n          <Route exact path=\"/money\">\r\n            <Money />\r\n          </Route>\r\n          <Route exact path=\"/statistics\">\r\n            <Statistics />\r\n          </Route>\r\n          <Redirect exact from=\"/\" to=\"/money\" />\r\n          <Route path=\"*\">\r\n            <NoMatch />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </AppWrapper>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}